<!DOCTYPE html>
<html>
  <head>
    <title>나만 따라와</title>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <link rel = "icon" href = "data:;base64,iVBORwoKGgo=">
    <link href ="css/common.css" rel = "stylesheet" type = "text/css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="api.js" type = "text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script  src="https://code.jquery.com/jquery-3.5.1.js"  integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=d4910abfb35ac798f0a645afc1a160e1"></script>
    <script src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"></script>
  </head>
  <body>
    <div class = "total">
      <div class = "introduceMe">
        <div class = "menuIcon" @click = "show = !show">
          <i class="fas fa-bars"></i>
        </div>
        <h2>안녕하세요 !</h2>
        <h3>나만 따라와</h3>
	<h4><br>대전광역시의 행정구별로<br>여행지를 소개해드립니다 !</h4>
	<h5>Daejeon Metropolitan City<br>Developer: 김영환<h5>
        <transition name = "left-menu">
            <div class = "leftSlide" v-if = "show">
              <h2>추천 장소 !</h2>
              <div class = "contents">
    		<div class = "contentsHeader">
			<div class= "placeName"></div>
			<!--<div class = "naviIcon">
				<i class="fas fa-route"></i>
			</div>-->
		</div>
		<div class = "contentsInfo">
			
		</div>
		<div class = "contentsImg">
			<div class = "kaimg" id = "kaimg">
				<div id ="dd"></div>
			</div>
			<div class = "instagramImg"></div>
	        </div>
              </div>
            </div>
       </transition>
      </div>
      <div class = "clickMap">
        <div id="map"></div>
	<script src="map.js" type = "text/javascript"></script>
	<input type ="hidden" id ="city" value = "" />
      </div>
    </div>
  </body>
  <script>
	$(document).ready(function(){
		kakaoimgserch();
		anjanj();
		$("#map").dblclick(function() {
			location.reload();
		});
	});
	new Vue({
		el: '.introduceMe',
		data:{
			show: false
		}
	}); 
	function kakaoimgserch(){
		var img = "";
		var data = { "query" : "대전 탄반동"} ;
		$.ajax({
			type :"GET",
			dataType : "JSON",
			headers : {Authorization : "KakaoAK 04881251da5eef1bfac8e06705918a6d"},
			url : "https://dapi.kakao.com/v2/search/image",
			data : data,
			success : function(t){
				img = "<img src = '"+t.documents[0].thumbnail_url+"' style = 'width:100%; height:100%;' />";
				console.log(img);
				$("#dd").html(img);
	  		  }
			
			
		});
		
	}
	function anjanj(){
		
		var xhr = new XMLHttpRequest();
		var url = 'http://apis.data.go.kr/6300000/tourDataService/tourDataListJson'; 
		var queryParams = '?' + encodeURIComponent('ServiceKey') + '='+'aggV%2F4hQnmywSfVZz7PL6hL%2BNUNEzkEWVPJF2Y%2FSR36XrnSL0Mssjmq01Sa2QXeytohSyi%2FkfW%2BETYj%2BaZ9uRQ%3D%3D';

		xhr.open('GET', url + queryParams);
		xhr.onreadystatechange = function () {
			
			if (this.readyState == 4) {
				alert('Status: '+this.status+'nHeaders: '+JSON.stringify(this.getAllResponseHeaders())+'nBody: '+this.responseText);
			}
		};
		xhr.send('');

	}
	function gserch(){

		$.ajax({
			type :"GET",
			dataType : "JSON",
			url : "http://apis.data.go.kr/6300000/tourDataService/tourDataListJson?ServiceKey=aggV%2F4hQnmywSfVZz7PL6hL%2BNUNEzkEWVPJF2Y%2FSR36XrnSL0Mssjmq01Sa2QXeytohSyi%2FkfW%2BETYj%2BaZ9uRQ%3D%3D",
			success : function(t){
				console.log(t);
	  		  }

		});
		
	}
    </script>
</html>
